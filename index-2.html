<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>A-Frame Vimeo VR Example</title>
  <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-html-shader@1.0.0/dist/aframe-html-shader.min.js"></script>
  <style>
    body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; }
    #vimeoContainer { display: none; }
  </style>
</head>
<body>
  <!-- Hidden Vimeo iframe -->
  <div id="vimeoContainer">
    <iframe src="https://player.vimeo.com/video/911432606?background=1&autoplay=1&muted=1"
            width="640" height="360" frameborder="0" allow="autoplay; fullscreen" allowfullscreen>
    </iframe>
  </div>

  <!-- A-Frame Scene -->
  <a-scene
      background="color: #222"
      webxr="optionalFeatures: local-floor, bounded-floor, hit-test"
      vr-mode-ui="enterVRButton: true"
  >
    <!-- Video Plane -->
    <a-entity 
        geometry="primitive: plane; width: 3.5; height: 1.97" 
        material="shader: html; target: #vimeoContainer" 
        position="0 1.6 -3"
    ></a-entity>

    <!-- Ground -->
    <a-plane rotation="-90 0 0" width="20" height="20" color="#333"></a-plane>

    <!-- Camera + Cursor -->
    <a-entity camera look-controls position="0 1.6 0">
      <a-cursor color="white"></a-cursor>
    </a-entity>
  </a-scene>
  <!-- Console Output Element -->
  <div id="consoleOutput" style="position: fixed; bottom: 10px; left: 10px; background: rgba(0,0,0,0.8); color: white; padding: 10px; font-family: monospace; max-height: 200px; overflow-y: auto; z-index: 9999;">
  </div>

  <script>
    // Override console.log and other methods to display in the custom console
    const consoleOutput = document.getElementById('consoleOutput');
    const originalConsole = {
      log: console.log,
      error: console.error,
      warn: console.warn,
      info: console.info
    };

    function addToConsoleOutput(message, type = 'log') {
      const entry = document.createElement('div');
      entry.style.borderBottom = '1px solid #333';
      entry.style.padding = '2px 0';
      
      switch(type) {
        case 'error':
          entry.style.color = '#ff4444';
          break;
        case 'warn':
          entry.style.color = '#ffaa00';
          break;
        case 'info':
          entry.style.color = '#44aaff';
          break;
      }
      
      entry.textContent = `${type}: ${typeof message === 'object' ? JSON.stringify(message) : message}`;
      consoleOutput.appendChild(entry);
      consoleOutput.scrollTop = consoleOutput.scrollHeight;
    }

    // Override console methods
    console.log = function() {
      originalConsole.log.apply(console, arguments);
      addToConsoleOutput(arguments[0], 'log');
    };
    console.error = function() {
      originalConsole.error.apply(console, arguments);
      addToConsoleOutput(arguments[0], 'error');
    };
    console.warn = function() {
      originalConsole.warn.apply(console, arguments);
      addToConsoleOutput(arguments[0], 'warn');
    };
    console.info = function() {
      originalConsole.info.apply(console, arguments);
      addToConsoleOutput(arguments[0], 'info');
    };
  </script>
</body>
</html>